; REQUIRES: cocoa
; EXPECT: sat
; COMMAND-LINE: --pp-ff-to-int
; COMMAND-LINE:
(set-info :smt-lib-version 2.6)
(set-info :category "crafted")
(set-logic QF_FF)
(define-sort F () (_ FiniteField 491))
(declare-fun x () F)
(declare-fun b0 () F)
(declare-fun b1 () F)
(declare-fun b2 () F)
(declare-fun b3 () F)
(declare-fun b4 () F)
(declare-fun b5 () F)
(declare-fun b6 () F)
(declare-fun b7 () F)
(declare-fun b8 () F)
(assert (= (ff.mul b0 b0) b0))
(assert (= (ff.mul b1 b1) b1))
(assert (= (ff.mul b2 b2) b2))
(assert (= (ff.mul b3 b3) b3))
(assert (= (ff.mul b4 b4) b4))
(assert (= (ff.mul b5 b5) b5))
(assert (= (ff.mul b6 b6) b6))
(assert (= (ff.mul b7 b7) b7))
(assert (= (ff.mul b8 b8) b8))
(assert
  (= x
     (ff.add
       (ff.mul (as ff1 F) b0)
       (ff.mul (as ff2 F) b1)
       (ff.mul (as ff4 F) b2)
       (ff.mul (as ff8 F) b3)
       (ff.mul (as ff16 F) b4)
       (ff.mul (as ff32 F) b5)
       (ff.mul (as ff64 F) b6)
       (ff.mul (as ff128 F) b7)
       (ff.mul (as ff256 F) b8)
      )))
(assert (not (and
    (= b0 (as ff1 F))
    (= b1 (as ff1 F))
    (= b2 (as ff0 F))
    (= b3 (as ff0 F))
    (= b4 (as ff0 F))
    (= b5 (as ff0 F))
    (= b6 (as ff0 F))
    (= b7 (as ff0 F))
    (= b8 (as ff0 F))
)))
(assert (= x (as ff3 F)))
(check-sat)
(get-model)

